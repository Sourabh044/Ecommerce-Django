{% extends 'base.html' %} {% block title %}Cart{% endblock %} {% load static %}
{%block content%}


<div class="my-3 border border-dark border-opacity-25"></div>
<form class="" action="/add-address/" method="post" onload="getLocation()">
{% csrf_token %}
  <div class="form-row" >
    <div class="form-group col-md-6">
      <label for="Email">Email</label>
      <input name='email'type="email" class="form-control" id="email" placeholder="Email" />
    </div>
    <div class="form-group col-md-6">
      <label for="Phone">Phone</label>
      <input
        type="Phone"
        class="form-control"
        id="Phone"
        placeholder="Phone"
        name='phone'
      />
    </div>
  </div>
  <div class="form-group my-2">
    <label for="inputAddress">Latitude</label>
    <input class="form-control" type="number" step="any" id="lat" name='lat' placeholder="Click Below to add location" readonly>
    {% comment %} <input type="number" step="any" class="form-control" id="lat" name='lat'  placeholder="Click Below to add location"/> {% endcomment %}
  </div>
  <div class="form-row">
    <label for="lng" class='my-2'>Longitude</label>
    <input class="form-control" type="number" step="any" id="lng" name='lng' placeholder="Click Below to add location" readonly>
    {% comment %} <input type="number" step="any" class="form-control" id="lng" name='lng' readonly/> {% endcomment %}
  </div>
  <div>
    <button class ='btn btn-primary my-2'onclick="getLocation(event)">Get Location</button>
  </div>
  <div class="form-row">
    <div class="form-group col-md-2">
      <label for="pincode">Pincode</label>
      <input type="text" class="form-control" id="pincode" name='pincode'/>
    </div>  
    <div class="form-row">
    <div class="form-group col-md-2">
      <label for="inputZip">Landmark</label>
      <input type="text" class="form-control" id="landmark" name='landmark' />
    </div>
  </div>
  <button type="submit" class="btn btn-primary my-2">Add Address</button>
</form>

<div class="my-3 border border-dark border-opacity-25"></div>

<script>
  function getLocation(event) {
    event.preventDefault();
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(showPosition);
    } else {
      x.innerHTML = "Geolocation is not supported by this browser.";
    }
  }

  function showPosition(position) {
    document.getElementById('lat').value = position.coords.latitude;
    document.getElementById('lng').value = position.coords.longitude;
  }
</script>
  
{%endblock%}
